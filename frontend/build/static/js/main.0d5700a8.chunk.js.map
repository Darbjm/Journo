{"version":3,"sources":["lib/auth.js","components/auth/Login.js","components/auth/ImageUpload.js","components/auth/Register.js","components/users/Userprofile.js","components/common/Home.js","components/trips/Tripmap.js","components/common/SecureRoute.js","components/common/Navbar.js","components/trips/Createtrip.js","components/trips/Showtrip.js","components/common/Failedpage.js","components/users/Editprofile.js","components/trips/Edittrip.js","components/users/Showuser.js","App.js","serviceWorker.js","index.js"],"names":["Auth","token","localStorage","setItem","getItem","removeItem","this","getToken","parts","split","length","JSON","parse","atob","payload","getPayload","Math","round","Date","now","exp","sub","Login","state","data","email","password","error","handleChange","target","name","value","setState","handleSubmit","e","a","preventDefault","axios","post","res","setToken","props","history","push","getUser","className","onSubmit","placeholder","onChange","type","to","React","Component","ImageUpload","image","selectedImage","handleUpload","files","FormData","append","process","url","fieldName","console","log","labelClass","labelClassName","src","alt","labelText","inputClassName","Register","username","password_confirmation","errors","response","bio","UserProfile","user","trips","id","get","headers","Authorization","plc","lastThree","map","trip","key","country","local_area","cost","rating","Home","search","recent","width","height","componentDidMount","updateWindowDimensions","window","addEventListener","array","slice","handleClick","bind","removeEventListener","innerWidth","innerHeight","TripMap","useState","longitude","latitude","zoom","viewport","setViewport","setTrips","tripsPicked","setTripsPicked","getData","location","pathname","join","mapStartFocus","features","alert","firstLatLng","center","arrOfLocalAreas","i","Promise","all","area","then","latlngs","r","index","latlng","useEffect","mapStyle","mapboxApiAccessToken","onViewportChange","onClick","Length","SecureRoute","component","rest","isAuthenticated","logout","Navbar","searchResult","isActive","toggleNavBar","navbarOpen","innerHTML","handleLogout","activeClick","prevProps","menuVis","role","aria-label","aria-expanded","aria-hidden","withRouter","CreateTrip","postcode","description","start_date","end_date","min","max","ShowTrip","match","params","isowner","FailedPage","EditProfile","delete","put","EditTrip","ShowUser","App","exact","path","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.0d5700a8.chunk.js","sourcesContent":["// Not a React component, so first character in auth is lowercase\nclass Auth {\n  static setToken(token) {\n    localStorage.setItem('token', token)\n  }\n\n  static getToken() {\n    return localStorage.getItem('token')\n  }\n\n  static logout() {\n    localStorage.removeItem('token')\n  }\n\n  static getPayload() {\n    const token = this.getToken() // try and get the token\n    if (!token) return false // if its not there, return false\n    const parts = token.split('.') // split it into an array\n    if (parts.length < 3) return false // if there are less than three parts the token will be invalid, return false\n    return JSON.parse(atob(parts[1]))\n  }\n\n  static isAuthenticated() {\n    const payload = this.getPayload()\n    if (!payload) return false\n    const now = Math.round(Date.now() / 1000)\n    return now < payload.exp\n  }\n\n  static getUser() {\n    const { sub } = this.getPayload()\n    return sub\n  }\n  \n}\n\nexport default Auth","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\n\nclass Login extends React.Component {\n  state = {\n    data: {\n      email: '',\n      password: ''\n    },\n    error: ''\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    const data = { ...this.state.data, [name]: value }\n    this.setState({ data, error: '' })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const res = await axios.post('/api/users/login', this.state.data)\n      Auth.setToken(res.data.token)\n      this.props.history.push(`/profile/${Auth.getUser()}`)\n    } catch (err) {\n      this.setState({ error: 'Invalid Credentials' })\n    }\n  }\n\n  render() {\n    const { error } = this.state\n    return (\n        <section className='section hero-login'> \n          <div className='center'>\n            <div className='column is-6-tablet is-offset-3-tablet is-8-mobile is-offset-2-mobile'>\n              <form onSubmit={this.handleSubmit} className='has-text-centered is-centered'>\n                <div className='field'>\n                  <div className='control'>\n                    <input\n                      className={`input is-rounded is-large ${error ? 'is-danger' : ''}`}\n                      name='email'\n                      placeholder='Email'\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className='loginfield'>\n                  <br></br>\n                  <div className='control'>\n                    <input\n                      className={`input is-rounded is-large ${error ? 'is-danger' : ''}`}\n                      type='password'\n                      name='password'\n                      placeholder='Password'\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                  <div className='invalid'>\n                  <small className='is-danger'>{error}</small>\n                  </div>\n                </div>\n                <br></br>\n              <div className='is-row'>\n              <div className='control is-row'>\n                <button type='submit' className='button is-rounded is-large color has-text-white'>Login</button>\n              </div>\n                <div className='control is-row'>\n                <h3 className='has-text-white'>Don't have an account? <Link to='/register'>Sign up</Link></h3>\n                </div>\n              </div>\n              </form>\n            </div>\n          </div>\n        </section>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport axios from 'axios'\n\nclass ImageUpload extends React.Component {\n  state = {\n    image: null,\n    selectedImage: null \n  }\n\n  async componentDidMount() {\n    const image = this.props.value\n    console.log(this.props)\n    this.setState({ image })\n  }\n\n  handleUpload = async ({ target: { files } }) => {\n    const data = new FormData\n    data.append('file', files[0])\n    data.append('upload_preset', process.env.REACT_APP_CLOUDINARY)\n    const res = await axios.post('https://api.cloudinary.com/v1_1/dkb9vu8mh/image/upload', data)\n    this.setState({ image: res.data.url }, () => {\n      this.props.handleChange({ target: { name: this.props.fieldName, value: res.data.url } })\n      console.log(this.props)\n    })\n  }\n\n  render() {\n    const labelClass = this.props.labelClassName ? this.props.labelClassName : 'default_class'\n    const { image } = this.state\n    return (\n      <div className='is-row image-input'>\n        {image &&    \n          <div>\n            <img src={image} alt={image} className='upload-image'/>\n          </div>}\n            <label className={labelClass}>{this.props.labelText}</label>\n            <input\n              className={this.props.inputClassName}\n              type='file'\n              onChange={this.handleUpload}\n            />\n        \n      </div>\n    )\n  }\n}\n\nexport default ImageUpload","import React from 'react'\nimport axios from 'axios'\nimport ImageUpload from './ImageUpload'\nimport { Link } from 'react-router-dom'\n\n\nclass Register extends React.Component {\n  state = {\n    data: {\n      username: '',\n      email: '',\n      password: '',\n      password_confirmation: '',\n      image: ''\n    },\n    errors: {}\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    console.log('submitting', this.state.data)\n    try {\n      await axios.post('/api/users/register', this.state.data)\n      this.props.history.push('/login')\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  render() {\n    const { errors } = this.state\n    return (\n      <section className='section hero-login'>\n        <div className='center'>\n        <form onSubmit={this.handleSubmit} className='column is-6-tablet is-offset-3-tablet is-8-mobile is-offset-2-mobile card'>\n          <div className='user-info'>\n            <h2 className='title'>Register</h2>\n            <br />\n            <div className='fieldContainer'>\n              <div className='field'>\n                {/* <label className='label'>USERNAME</label> */}\n                <div className='control'>\n                  <input\n                    className={`input is-small is-rounded ${errors.username ? 'is-danger' : ''}`}\n                    placeholder='Username'\n                    name='username'\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.username && <small className='help is-danger'>{errors.username}</small>}\n              </div>\n              <div className='field'>\n                {/* <label className='label'>EMAIL</label> */}\n                <div className='control'>\n                  <input\n                    className={`input is-small is-rounded ${errors.email ? 'is-danger' : ''}`}\n                    placeholder='Email'\n                    name='email'\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.email && <small className='help is-danger'>{errors.email}</small>}\n              </div>\n              <div className='field'>\n                {/* <label className='label'>BIO</label> */}\n                <div className='control'>\n                  <input\n                    className={`textarea is-small is-rounded ${errors.bio ? 'is-danger' : ''}`}\n                    placeholder='Bio'\n                    name='bio'\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.bio && <small className='help is-danger'>{errors.bio}</small>}\n              </div>\n              <div className='field'>\n                {/* <label className='label'>PASSWORD</label> */}\n                <div className='control'>\n                  <input\n                    className={`input is-small is-rounded ${errors.password ? 'is-danger' : ''}`}\n                    type='password'\n                    placeholder='Password'\n                    name='password'\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.password && <small className='help is-danger'>{errors.password}</small>}\n              </div>\n              <div className='field'>\n                {/* <label className='label'>PASSWORD CONFIRMATION</label> */}\n                <div className='control'>\n                  <input\n                    className={`input is-small is-rounded ${errors.password_confirmation ? 'is-danger' : ''}`}\n                    type='password'\n                    placeholder='Password Confirmation'\n                    name='password_confirmation'\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.password_confirmation && <small className='help is-danger'>{errors.password_confirmation}</small>}\n              </div>\n            </div>\n          </div>\n          <div className='user-image'>\n            <ImageUpload\n              handleChange={this.handleChange}\n              fieldName='image'\n              inputClassName={`${errors.image ? 'is-danger' : ''}`}\n              className='image-input'\n            />\n          {errors.image && <small className='help is-danger'>{errors.image}</small>}\n            <div className='is-row'>\n              <div className='control is-row'>\n                <button type='submit' className='button is-rounded is-small color has-text-white'>Register</button>\n              </div>\n                <div className='control is-row'>\n                <h3>Already have an account? <Link to='/login'>Login</Link></h3>\n                </div>\n              </div>\n          </div>\n        </form>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Register","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\n\nclass UserProfile extends React.Component {\n  state = {\n    user: {},\n    trips: []\n  }\n\n  async componentDidMount() {\n    const id = Auth.getUser()\n    try {\n      const res = await axios.get(`/api/users/show/${id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const plc = res.data.trips\n      const lastThree = [plc[0], plc[1], plc[2]]\n      this.setState({ trips: lastThree })\n      this.setState({ user: res.data })\n    } catch (err) {\n      console.log(err)\n      this.props.history.push('/error')\n    }\n  }\n\n  render() {\n    const { user, trips } = this.state\n    if (!user) return null\n    console.log(user)\n    return (\n      <section className='section hero-profile'>\n        <div className='profile-fit'>\n        <div className='tile is-ancestor'>\n          <div className='tile is-vertical'>\n            <div className='tile'>\n              <img className='user-profileimage' src={user.image} alt={user.image} />\n              <div className='tile end'>\n                <div className='flex'>\n                {trips && trips.map(trip => (\n                <Link to={`/showtrip/${trip.id}/`} key={trip.id} className='card'>\n                <img className='tripimage' src={trip.image} alt={trip.image} />\n                <div className='text-card'>\n                <h1>{trip.country}</h1>\n                <h2>{trip.local_area}</h2>\n                <h3>£{trip.cost}</h3>\n                <h4>Rating: {trip.rating} ★</h4>\n                </div>\n              </Link>))}\n            </div>\n          </div>\n          </div>\n            <div className='tile'>\n              <div className='tile is-child box'>\n                <article className='media'>\n                  <div className='media-content'>\n                    <div className='content'>\n                      <p>\n                        <strong>{user.username}</strong> - <small>{user.email}</small>\n                        <br />\n                        {user.bio}\n                      </p>\n                    </div>\n                  </div>\n                  <div className='center'>\n                  <div className='media-right'>\n                  <Link className='button is-rounded color' to={`/profile/${Auth.getUser()}/edit`}>Edit</Link>\n                  </div>\n                  </div>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default UserProfile","import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\nclass Home extends React.Component {\n  state = {\n    search: '',\n    recent: [],\n    width: 0,\n    height: 0\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = { width: 0, height: 0 }\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this)\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('resize', this.updateWindowDimensions)\n  }\n  \n  updateWindowDimensions() {\n    this.setState({ width: window.innerWidth, height: window.innerHeight })\n  }\n\n  handleChange = e => {\n    this.setState({ search: e.target.value })\n  }\n\n  componentDidMount = async () => {\n    this.updateWindowDimensions()\n    window.addEventListener('resize', this.updateWindowDimensions)\n    try {\n      const res = await axios.get('api/trips/')\n      const array = res.data\n      this.setState({ recent: array.slice(-5) })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    this.props.history.push(`/map/${this.state.search}`)\n  }\n\n  handleClick = (e) => {\n    console.log(e.target.id)\n    localStorage.setItem('skill', e.target.id)\n  }\n\n  render() {\n    const { recent, width } = this.state\n    return (\n        <div className='hero-body'>\n          <div className='home-section'>\n          <section className='search-section'>\n          <form onSubmit={this.handleSubmit} className='search-bar'>\n            <div className='search'>\n              <input type='text' className='search-text' placeholder='Where to?' onChange={this.handleChange} />\n              <button type='submit' className='search-button'>\n                <img src='https://image.flaticon.com/icons/svg/942/942196.svg' />\n              </button>\n            </div>\n          </form>\n            <div className='tile is-ancestor'>\n              <div className='tile is-vertical'>\n                <div className='tile'>\n                  <div className='tile centered'>\n                    <div className='flex'>\n                    {width > 768 ? \n                      (recent && recent.map(trip => (\n                      <Link to={`/showtrip/${trip.id}/`} key={trip.id} className='card'>\n                        <img className='tripimage' src={trip.image} alt={trip.image} />\n                        <div className='text-card'>\n                          <h1>{trip.country}</h1>\n                          <h2>{trip.local_area}</h2>\n                          <h3>£{trip.cost}</h3>\n                          <h4>Rating: {trip.rating} ★</h4>\n                        </div>\n                      </Link>)))\n                      :\n                      recent && <Link to={`/showtrip/${recent[0].id}/`} key={recent[0].id} className='card'>\n                      <img className='recent[0]image' src={recent[0].image} alt={recent[0].image} />\n                      <div className='text-card'>\n                        <h1>{recent[0].country}</h1>\n                        <h2>{recent[0].local_area}</h2>\n                        <h3>£{recent[0].cost}</h3>\n                        <h4>Rating: {recent[0].rating} ★</h4>\n                      </div>\n                    </Link>}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              </div>\n          </section>\n          </div>\n        </div>\n    )\n  }\n}\n\nexport default Home","import 'react-map-gl-geocoder/dist/mapbox-gl-geocoder.css'\nimport React, { useState, useEffect } from 'react'\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n\n\nexport default function TripMap() {\n  const [viewport, setViewport] = useState({ \n      longitude: 0,\n      latitude: 0,\n      zoom: 2\n  });\n  const [trips, setTrips] = useState({})\n\n  const [tripsPicked, setTripsPicked] = useState(null)\n\n  const getData = async () => {\n        try {\n          const token = process.env.REACT_APP_MAPBOX_KEY\n          const search = window.location.pathname.split('/').slice(2).join('/')\n          const mapStartFocus = await axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${search}.json?access_token=${token}`)\n          if (mapStartFocus.data.features.length === 0) {\n            this.props.history.push('/map/sudan')\n            alert('Sorry we couldn\\'t find that address')\n          }\n          const firstLatLng = mapStartFocus.data.features[0].center\n          const viewport = {longitude: firstLatLng[0], latitude: firstLatLng[1], zoom: 5}\n          setViewport(viewport)\n          const { data } = await axios.get('/api/trips')\n          const arrOfLocalAreas = data.map(i => i.local_area)\n          Promise.all(arrOfLocalAreas.map(area => {\n            return axios.get(`https://api.mapbox.com/geocoding/v5/mapbox.places/${area}.json?access_token=${token}`)\n          }))\n            .then(res => {\n              const latlngs = res.map(r => r.data.features[0].center)\n              setTrips(data.map((trip, index) => {\n                return {\n                  ...trip,\n                  latlng: latlngs[index]\n                }\n              }))\n            })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  useEffect(() => {\n    getData()\n  }, [])\n\n  return (\n    <div>\n      <ReactMapGL\n      {...viewport}\n      mapStyle='mapbox://styles/mapbox/streets-v9' \n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_KEY}\n      height={'100vh'}\n      width={'100vw'}\n      onViewportChange={viewport => {\n        setViewport(viewport)\n      }}\n      >\n        {trips[0] && trips.map((trip, i) => (\n          <Marker \n            key={i}\n            latitude={trip.latlng[1]}\n            longitude={trip.latlng[0]}\n          >\n            <a onClick={e => {\n              e.preventDefault()\n              if (!tripsPicked) {\n              setTripsPicked(trip) \n              } else setTripsPicked(null)\n            }}>\n              <img src={trip.image} alt={trip.name} className='tripsmap' />\n            </a>\n          </Marker> ))}\n          {tripsPicked && <Popup\n          latitude={tripsPicked.latlng[1]}\n          longitude={tripsPicked.latlng[0]}\n          >\n            <a>\n              <Link to={`/showtrip/${tripsPicked.id}`}>\n              {tripsPicked.local_area}\n              <br />\n              {tripsPicked.Length}\n              <br />\n              £{tripsPicked.cost}\n              <h3>{tripsPicked.rating} <span className='star'>★</span></h3>\n              </Link>\n            </a>\n            \n          </Popup>}\n      </ReactMapGL>\n    </div>\n  )\n}\n","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport Auth from '../../lib/auth'\n\nconst SecureRoute = ({ component: Component, ...rest }) => {\n  if (Auth.isAuthenticated()) return <Route {...rest} component={Component}/>\n  Auth.logout()\n  return <Redirect to='/login'/>\n}\n\nexport default SecureRoute","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport Auth from '../../lib/auth'\n\n\nclass Navbar extends React.Component {\n  state = {\n    searchResult: null,\n    isActive: false\n  }\n\n  toggleNavBar = () => {\n    this.setState({ navbarOpen: !this.state.navbarOpen })\n  }\n\n  handleClick = (e) => {\n    localStorage.setItem('skill', e.target.innerHTML)\n  }\n\n  handleLogout = () => {\n    Auth.logout()\n    this.props.history.push('/')\n  }\n\n  activeClick = () => {\n    this.setState({ isActive: !this.state.isActive })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setState({ navbarOpen: false })\n    }\n  }\n\n  render() {\n    const { isActive } = this.state\n    const menuVis = isActive ? 'is-active' : ''\n    return (\n      <nav className='navbar nav is-fixed-top'>\n        <div className='container'>\n          <div className='navbar-brand'>\n            <img src='https://image.flaticon.com/icons/svg/2072/2072260.svg' alt='logo' />\n            <Link className='navbar-item' to='/'>\n              <h1>Journo</h1>\n            </Link>\n              <a role='button' onClick={this.activeClick} className={`navbar-burger burger ${menuVis}`} aria-label='menu' aria-expanded='false'>\n                <span aria-hidden='true' className='white'></span>\n                <span aria-hidden='true' className='white'></span>\n                <span aria-hidden='true' className='white'></span>\n              </a>\n          </div>\n          <div className={`navbar-menu ${menuVis} turq`}>\n            <div className='navbar-end'>\n              <Link className='navbar-item has-text-white' to='/map/london'>MAP</Link>\n              {!Auth.isAuthenticated() && <Link className='navbar-item has-text-white' to='/register'>SIGN UP</Link>}\n              {!Auth.isAuthenticated() && <Link className='navbar-item has-text-white' to='/login'>LOGIN</Link>}\n              {Auth.isAuthenticated() && <Link className='navbar-item has-text-white' to='/createtrip'>CREATE TRIP</Link>}\n              {Auth.isAuthenticated() && <Link className='navbar-item has-text-white' to={`/profile/${Auth.getUser()}`}>PROFILE</Link>}\n              {Auth.isAuthenticated() && <a className='navbar-item has-text-white' onClick={this.handleLogout}>LOGOUT</a>}\n            </div>\n          </div>\n        </div>\n      </nav>\n    )\n  }\n}\n\nexport default withRouter(Navbar)\n\n\n\n","import React from 'react'\nimport ImageUpload from '../auth/ImageUpload'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\n\nclass CreateTrip extends React.Component {\n  state = {\n    trip: {\n      country: '',\n      local_area: '',\n      postcode: '',\n      description: '',\n      image: '',\n      rating: '',\n      cost: '',\n      start_date: '',\n      end_date: '',\n      user: Auth.getUser()\n    },\n    errors: {}\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    const trip = { ...this.state.trip, [name]: value }\n    this.setState({ trip })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      await axios.post(`/api/trips/make`, this.state.trip, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push(`/profile/${Auth.getUser()}`)\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  render() {\n    const { trip, errors } = this.state\n    return (\n      <section className='section hero-edittrip'>\n        <div className='editcard'>\n        <form onSubmit={this.handleSubmit} className='card'>\n        <div className='fieldContainer'>\n          <div className='field'>\n          <label className='label'>Country</label>\n          <div className='control'>\n              <input\n                className={`input is-rounded ${errors.country ? 'is-danger' : ''}`}\n                placeholder='Country'\n                name='country'\n                onChange={this.handleChange}\n                value={trip.country}\n              />\n            </div>\n            {errors.country && <small className='help is-danger'>{errors.country}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Local area</label>\n            <div className='control'>\n              <input\n                className={`input is-rounded ${errors.local_area ? 'is-danger' : ''}`}\n                placeholder='Local area'\n                name='local_area'\n                onChange={this.handleChange}\n                value={trip.local_area}\n              />\n            </div>\n            {errors.local_area && <small className='help is-danger'>{errors.local_area}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Postcode</label>\n            <div className='control'>\n              <input\n                className={`input is-rounded ${errors.postcode ? 'is-danger' : ''}`}\n                placeholder='Postcode'\n                name='postcode'\n                onChange={this.handleChange}\n                value={trip.postcode}\n              />\n            </div>\n            {errors.postcode && <small className='help is-danger'>{errors.postcode}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Description</label>\n            <div className='control'>\n              <textarea \n                className={`textarea is-rounded ${errors.description ? 'is-danger' : ''}`}\n                placeholder='Description'\n                name='description'\n                onChange={this.handleChange}\n                value={trip.description}/>\n            </div>\n            {errors.description && <small className='help is-danger'>{errors.description}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Rating</label>\n            <div className='control'>\n              <input\n                type='number'\n                min='1'\n                max='5'\n                className={`input is-rounded ${errors.rating? 'is-danger' : ''}`}\n                placeholder='Rating'\n                name='rating'\n                onChange={this.handleChange}\n                value={trip.rating}\n              />\n            </div>\n            {errors.rating && <small className='help is-danger'>{errors.rating}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Cost in £</label>\n            <div className='control'>\n              <input\n                type='number'\n                className={`input is-rounded ${errors.cost ? 'is-danger' : ''}`}\n                placeholder='Cost'\n                name='cost'\n                onChange={this.handleChange}\n                value={trip.cost}\n              />\n            </div>\n            {errors.cost && <small className='help is-danger'>{errors.cost}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Length of trip</label>\n            <div className='control'>\n              <input\n                className={`input is-rounded ${errors.Length ? 'is-danger' : ''}`}\n                placeholder='Length of trip'\n                name='Length'\n                onChange={this.handleChange}\n                value={trip.Length}\n              />\n            </div>\n            {errors.Length && <small className='help is-danger'>{errors.Length}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Start date</label>\n            <div className='control'>\n              <input\n                type='date'\n                className={`input is-rounded ${errors.start_date? 'is-danger' : ''}`}\n                placeholder='Start date'\n                name='start_date'\n                onChange={this.handleChange}\n                value={trip.start_date}\n              />\n            </div>\n            {errors.start_date && <small className='help is-danger'>{errors.start_date}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>End date</label>\n            <div className='control'>\n              <input\n                type='date'\n                className={`input is-rounded ${errors.end_date ? 'is-danger' : ''}`}\n                placeholder='End date'\n                name='end_date'\n                onChange={this.handleChange}\n                value={trip.end_date}\n              />\n            </div>\n            </div>\n            </div>\n            <br />\n            <div>\n            <div className='field'>\n            <label className='label'>Image</label>\n            <div className='user-image'>\n            <ImageUpload\n              handleChange={this.handleChange}\n              fieldName='image'\n              className={`input is-rounded ${errors.image ? 'is-danger' : ''}`}\n              value={trip.image}\n            />\n            </div>\n            {errors.image && <small className='help is-danger'>{errors.image}</small>}\n            </div>\n            </div>\n            <div className='is-row'>\n            <button className='button is-rounded color has-text-white'>SAVE</button>\n            </div>\n        </form>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default CreateTrip\n","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\n\nclass ShowTrip extends React.Component{\nstate = {\n  trip: {}\n}\n\ncomponentDidMount = async () => {\n  const id = this.props.match.params.id\n  try{\n    const res = await axios.get(`/api/trips/${id}/`, {\n      headers: { Authorization: `Bearer ${Auth.getToken()}` }\n    })\n    this.setState({ trip: res.data })\n  } catch (err) {\n    console.log(err)\n  }\n}\n\nisowner() {\n  console.log(Auth.getUser(), this.state.trip.user.id)\n  if(Auth.getUser() === this.state.trip.user.id) {\n  return true\n  }\n}\n\nrender() {\n  const id = this.props.match.params.id\n  const { trip } = this.state\n  if (!trip.user) return null\n  console.log(trip)\n  return (\n    <section className='section hero-profile'>\n        <div className='profile-fit'>\n        <div className='tile is-ancestor'>\n          <div className='tile is-vertical'>\n            <div className='tile'>\n              <img className='user-profileimage' src={trip.image} alt={trip.image} />\n              <div className='tile end'>\n                <div className='flex'>\n                <Link to={`/showuser/${trip.user.id}/`} key={trip.user.id} className='card'>\n                <img className='tripimage' src={trip.user.image} alt={trip.user.image} />\n                <div className='text-card'>\n                <p>Creator: <strong>{trip.user.username}</strong></p>\n                <h2>{trip.user.email}</h2>\n                </div>\n                </Link>\n            </div>\n          </div>\n          </div>\n            <div className='tile'>\n              <div className='tile is-child box'>\n                <article className='media'>\n                  <div className='media-content'>\n                    <div className='content'>\n                      <p>\n                        <strong>{trip.country}</strong> · <strong>{trip.local_area}</strong> · <small>£{trip.cost}</small> · <small>{trip.Length}</small>  · <small>Rating: {trip.rating}★</small>\n                        <br />\n                        <strong>Date: </strong><small>{trip.start_date}</small> ---  <small>{trip.end_date}</small>\n                        <br />\n                        {trip.description}\n                      </p>\n                    </div>\n                  </div>\n                  <div className='center'>\n                  <div className='media-right'>\n                  {this.isowner() && <Link className='button is-rounded color' to={`/showtrip/${id}/edit`}>Edit</Link>}\n                  </div>\n                  </div>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n        </div>\n      </section>\n  )\n}\n\n}\n\nexport default ShowTrip","import React from 'react'\n\nconst FailedPage = () => (\n  <section className='hero'>\n    <div className='hero-body-failed'>\n      <div className='container'>\n        <p className='title is-1 has-text-centered Oops'>Oops you took a wrong turn</p>\n      </div>\n    </div>\n  </section>\n)\n\nexport default FailedPage","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport ImageUpload from '../auth/ImageUpload'\n\nclass EditProfile extends React.Component{\n  state = {\n    data: {\n      username: '',\n      email: '',\n      password: '',\n      password_confirmation: '',\n      image: '',\n      bio: ''\n    },\n    errors: {}\n  }\n\n  delete = async e => {\n    e.preventDefault()\n    const id = Auth.getUser()\n    try {\n      await axios.delete(`http://localhost:8000/api/users/edit/${id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  async componentDidMount() {\n    const id = Auth.getUser()\n    try{\n      const res = await axios.get(`/api/users/show/${id}/`, {\n       headers: { Authorization: `Bearer ${Auth.getToken()}` }\n     })\n      const data = res.data\n      this.setState({ data })\n     } catch (err) {\n       console.log(err)\n     }\n   }\n\n  handleChange = ({ target: { name, value } }) => {\n    const data = { ...this.state.data, [name]: value }\n    this.setState({ data })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    const id = Auth.getUser()\n    console.log('submitting', this.state.data)\n    try {\n      await axios.put(`/api/users/edit/${id}/`, this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push(`/profile/${Auth.getUser()}`)\n    } catch (err) {\n      console.log(err.response)\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  render() {\n    const { errors, data } = this.state\n    if (!data.image) return null\n    return (\n      <section className='section hero-login'>\n      <div className='center'>\n        <form onSubmit={this.handleSubmit} className='column is-6-tablet is-offset-3-tablet is-8-mobile is-offset-2-mobile card'>\n          <div className='user-info'>\n            <h2 className='title'>Edit Profile</h2>\n            <br />\n            <div className='fieldContainer'>\n              <div className='field'>\n                <label className='label'>USERNAME</label>\n                <div className='control'>\n                  <input\n                    className={`input is-rounded ${errors.username ? 'is-danger' : ''}`}\n                    placeholder='Username'\n                    name='username'\n                    onChange={this.handleChange}\n                    value={data.username}\n                  />\n                </div>\n                {errors.name && <small className='help is-danger'>{errors.username}</small>}\n              </div>\n              <div className='field'>\n                <label className='label'>EMAIL</label>\n                <div className='control'>\n                  <input\n                    className={`input is-rounded ${errors.email ? 'is-danger' : ''}`}\n                    placeholder='Email'\n                    name='email'\n                    onChange={this.handleChange}\n                    value={data.email}\n                  />\n                </div>\n                {errors.email && <small className='help is-danger'>{errors.email}</small>}\n              </div>\n              <div className='field'>\n                <label className='label'>PASSWORD</label>\n                <div className='control'>\n                  <input\n                    className={`input is-rounded ${errors.password ? 'is-danger' : ''}`}\n                    type='password'\n                    placeholder='Password'\n                    name='password'\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.password && <small className='help is-danger'>{errors.password}</small>}\n              </div>\n              <div className='field'>\n                <label className='label'>PASSWORD CONFIRMATION</label>\n                <div className='control'>\n                  <input\n                    className={`input is-rounded ${errors.password_confirmation ? 'is-danger' : ''}`}\n                    type='password'\n                    placeholder='Password Confirmation'\n                    name='password_confirmation'\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.password_confirmation && <small className='help is-danger'>{errors.password_confirmation}</small>}\n              </div>\n              <div className='field'>\n                <label className='label'>Bio</label>\n                <div className='control'>\n                  <input\n                    className={`input is-rounded ${errors.bio ? 'is-danger' : ''}`}\n                    placeholder='Bio'\n                    name='bio'\n                    value={data.bio}\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {errors.bio && <small className='help is-danger'>{errors.bio}</small>}\n              </div>\n            </div>    \n          </div>\n          <div className='user-image'>\n            <ImageUpload\n              handleChange={this.handleChange}\n              fieldName='image'\n              inputClassName='is-row'\n              value={data.image}\n            />\n            <div className='is-row'>\n            <button type='submit' className='button is-rounded color'>SAVE</button>\n            <button onClick={this.delete} className='button is-rounded is-danger'>DELETE</button>\n            </div>\n          </div>\n        </form>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default EditProfile","import React from 'react'\nimport Auth from '../../lib/auth'\nimport ImageUpload from '../auth/ImageUpload'\nimport axios from 'axios'\n\nclass EditTrip extends React.Component {\n    state = {\n      trip: {\n        country: '',\n        local_area: '',\n        postcode: '',\n        description: '',\n        image: '',\n        rating: '',\n        cost: '',\n        start_date: '',\n        end_date: '',\n        Length: '',\n        user: ''\n      },\n      errors: {}\n    }\n\n   async componentDidMount() {\n    const id = this.props.match.params.id\n    try{\n      const res = await axios.get(`/api/trips/edit/${id}/`, {\n       headers: { Authorization: `Bearer ${Auth.getToken()}` }\n     })\n      const trip = res.data\n      this.setState({ trip })\n     } catch (err) {\n       console.log(err)\n     }\n   }\n\n  handleChange = ({ target: { name, value } }) => {\n    const trip = { ...this.state.trip, [name]: value }\n    this.setState({ trip })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    const id = this.props.match.params.id\n    try { \n      await axios.put(`/api/trips/${id}/`, this.state.trip, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push(`/showtrip/${id}`)\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n  delete = async e => {\n    e.preventDefault()\n    const id = this.props.match.params.id\n    try { \n      await axios.delete(`/api/trips/${id}/`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push(`/profile/${Auth.getUser()}`)\n    } catch (err) {\n      this.setState({ errors: err.response.data })\n    }\n  }\n\n\n  render() {\n    const { trip, errors } = this.state\n    return (\n      <section className='section hero-edittrip'>\n        <div className='editcard'>\n        <form onSubmit={this.handleSubmit} className='card'>\n        <div className='fieldContainer'>\n          <div className='field'>\n          <label className='label'>Country</label>\n          <div className='control'>\n              <input\n                className={`input is-rounded ${errors.country ? 'is-danger' : ''}`}\n                placeholder='Country'\n                name='country'\n                onChange={this.handleChange}\n                value={trip.country}\n              />\n            </div>\n            {errors.country && <small className='help is-danger'>{errors.country}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Local area</label>\n            <div className='control'>\n              <input\n                className={`input is-rounded ${errors.local_area ? 'is-danger' : ''}`}\n                placeholder='Local area'\n                name='local_area'\n                onChange={this.handleChange}\n                value={trip.local_area}\n              />\n            </div>\n            {errors.local_area && <small className='help is-danger'>{errors.local_area}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Postcode</label>\n            <div className='control'>\n              <input\n                className={`input is-rounded ${errors.postcode ? 'is-danger' : ''}`}\n                placeholder='Postcode'\n                name='postcode'\n                onChange={this.handleChange}\n                value={trip.postcode}\n              />\n            </div>\n            {errors.postcode && <small className='help is-danger'>{errors.postcode}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Description</label>\n            <div className='control'>\n              <textarea \n                className={`textarea is-rounded ${errors.description ? 'is-danger' : ''}`}\n                placeholder='Description'\n                name='description'\n                onChange={this.handleChange}\n                value={trip.description}/>\n            </div>\n            {errors.description && <small className='help is-danger'>{errors.description}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Rating</label>\n            <div className='control'>\n              <input\n                type='number'\n                min='1'\n                max='5'\n                className={`input is-rounded ${errors.rating? 'is-danger' : ''}`}\n                placeholder='Rating'\n                name='rating'\n                onChange={this.handleChange}\n                value={trip.rating}\n              />\n            </div>\n            {errors.rating && <small className='help is-danger'>{errors.rating}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Cost in £</label>\n            <div className='control'>\n              <input\n                type='number'\n                className={`input is-rounded ${errors.cost ? 'is-danger' : ''}`}\n                placeholder='Cost'\n                name='cost'\n                onChange={this.handleChange}\n                value={trip.cost}\n              />\n            </div>\n            {errors.cost && <small className='help is-danger'>{errors.cost}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Length of trip</label>\n            <div className='control'>\n              <input\n                className={`input is-rounded ${errors.Length ? 'is-danger' : ''}`}\n                placeholder='Length of trip'\n                name='Length'\n                onChange={this.handleChange}\n                value={trip.Length}\n              />\n            </div>\n            {errors.Length && <small className='help is-danger'>{errors.Length}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>Start date</label>\n            <div className='control'>\n              <input\n                type='date'\n                className={`input is-rounded ${errors.start_date? 'is-danger' : ''}`}\n                placeholder='Start date'\n                name='start_date'\n                onChange={this.handleChange}\n                value={trip.start_date}\n              />\n            </div>\n            {errors.start_date && <small className='help is-danger'>{errors.start_date}</small>}\n            </div>\n            <div className='field'>\n            <label className='label'>End date</label>\n            <div className='control'>\n              <input\n                type='date'\n                className={`input is-rounded ${errors.end_date ? 'is-danger' : ''}`}\n                placeholder='End date'\n                name='end_date'\n                onChange={this.handleChange}\n                value={trip.end_date}\n              />\n            </div>\n            </div>\n            </div>\n            <br />\n            <div>\n            <div className='field'>\n            <label className='label'>Image</label>\n            <div className='user-image'>\n            {trip.image && <ImageUpload\n              handleChange={this.handleChange}\n              fieldName='image'\n              className={`input is-rounded ${errors.image ? 'is-danger' : ''}`}\n              value={trip.image}\n            />}\n            </div>\n            {errors.image && <small className='help is-danger'>{errors.image}</small>}\n            </div>\n            </div>\n            <div className='is-row'>\n            <button className='button is-rounded color has-text-white'>EDIT</button>\n            <button onClick={this.delete} className='button is-rounded is-danger'>DELETE</button>\n            </div>\n        </form>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default EditTrip","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\nclass ShowUser extends React.Component {\n  state = {\n    user: {}\n  }\n\n  async componentDidMount() {\n    const id = this.props.match.params.id\n    try {\n      const res = await axios.get(`/api/users/show/${id}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      const plc = res.data.trips\n      const lastThree = [plc[0], plc[1], plc[2]]\n      this.setState({ trips: lastThree })\n      this.setState({ user: res.data })\n    } catch (err) {\n      console.log(err)\n      this.props.history.push('/error')\n    }\n  }\n\n  render() {\n    const { user, trips } = this.state\n    if (!user) return null\n    return (\n      <section className='section hero-profile'>\n        <div className='profile-fit'>\n        <div className='tile is-ancestor'>\n          <div className='tile is-vertical'>\n            <div className='tile'>\n              <img className='user-profileimage' src={user.image} alt={user.image} />\n              <div className='tile end'>\n                <div className='flex'>\n                {trips && trips.map(trip => (\n                <Link to={`/showtrip/${trip.id}/`} key={trip.id} className='card'>\n                <img className='tripimage' src={trip.image} alt={trip.image} />\n                <div className='text-card'>\n                <h1>{trip.country}</h1>\n                <h2>{trip.local_area}</h2>\n                <h3>{trip.Length}</h3>\n                <h3>£{trip.cost}</h3>\n                <h4>Rating: {trip.rating} ★</h4>\n                </div>\n              </Link>))}\n            </div>\n          </div>\n          </div>\n            <div className='tile'>\n              <div className='tile is-child box'>\n                <article className='media'>\n                  <div className='media-content'>\n                    <div className='content'>\n                      <p>\n                        <strong>{user.username}</strong> - <small>{user.email}</small>\n                        <br />\n                        {user.bio}\n                      </p>\n                    </div>\n                  </div>\n                  <div className='center'>\n                  <div className='media-right'>\n                  </div>\n                  </div>\n                </article>\n              </div>\n            </div>\n          </div>\n        </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default ShowUser","import React from 'react';\nimport './styles/main.scss'\nimport 'bulma'\n// import Index from './components/trips/Tripindex'\nimport Login from './components/auth/Login'\nimport { BrowserRouter, Route, Switch,  } from 'react-router-dom'\nimport Register from './components/auth/Register'\nimport UserProfile from './components/users/Userprofile'\nimport Home from './components/common/Home'\nimport TripMap from './components/trips/Tripmap'\nimport SecureRoute from './components/common/SecureRoute';\nimport Navbar from './components/common/Navbar'\nimport CreateTrip from './components/trips/Createtrip'\nimport ShowTrip from './components/trips/Showtrip'\nimport FailedPage from './components/common/Failedpage'\nimport EditProfile from './components/users/Editprofile'\nimport EditTrip from './components/trips/Edittrip';\nimport ShowUser from './components/users/Showuser';\n\n\nfunction App() {\n  return (\n  <BrowserRouter>\n    <>\n      <Navbar/>\n      <Switch>\n      <Route exact path='/' component={Home} />\n      <SecureRoute path='/profile/:id/edit' component={EditProfile} />\n      <SecureRoute path='/showtrip/:id/edit' component={EditTrip} />\n      <SecureRoute path='/profile' component={UserProfile}/>\n      <SecureRoute path='/showuser/:id' component={ShowUser} />\n      <Route path='/login' component={Login}/>\n      <Route path='/register' component={Register}/>\n      <Route path='/map/:place' component={TripMap} />\n      <SecureRoute path='/createtrip' component={CreateTrip}/>\n      <SecureRoute path='/showtrip/:id' component={ShowTrip}/>\n      <Route path='/*' component={FailedPage} />\n      </Switch>\n    </>\n  </BrowserRouter>\n  )\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}